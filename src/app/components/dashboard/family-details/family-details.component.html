<div class="family-container">
    <div class="header">
        <div class="title-container">
            <h1 class="main-heading">Family Details</h1>
            @if (this.sharedService.isAdminUser()) {
            <h4 class="sub-heading">Add or Edit Family Details</h4>
            }
        </div>
        @if (this.sharedService.isAdminUser()) {
        <button mat-raised-button color="primary" (click)="openDialog()">+ Add New Family</button>
        }
    </div>

    <div class="card-container">
        @for (item of families; track $index) {
        <mat-card class="dashboard-card mat-elevation-z4">
            <div class="card-header">
                <span class="family-name">{{ item.familyName }}</span>
                <span class="flat-badge">{{ 'Flat : ' + item.flatNumber }}</span>
            </div>
            <mat-divider></mat-divider>
            <mat-card-content class="card-content">
                <p><mat-icon>call</mat-icon> {{ '+91 ' + item.phone }}</p>
                <p><mat-icon>email</mat-icon> {{ item.email | titlecase}}</p>
                <p><mat-icon>groups</mat-icon> {{ item.familyMembers }} Members</p>
            </mat-card-content>
            @if (this.sharedService.isAdminUser()) {
            <mat-card-actions>
                <button mat-button color="primary">Edit</button>
                <button mat-button color="warn">Delete</button> 
            </mat-card-actions>
            }
        </mat-card>
        }
    </div>
</div>